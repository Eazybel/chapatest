<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Room Availability Checker</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts for Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="font-inter bg-gradient-to-br from-blue-500 to-purple-600 min-h-screen flex items-center justify-center p-2 overflow-hidden">

    <div class="bg-white rounded-xl shadow-2xl p-4 md:p-6 max-w-md w-full flex flex-col justify-center h-full max-h-[95vh]">
        <h1 class="text-2xl md:text-3xl font-bold text-center text-gray-800 mb-1 flex-shrink-0">
            Check Room Availability
        </h1>

        <p class="text-center text-gray-600 mb-4 text-sm md:text-base flex-shrink-0">
            Find the perfect stay for your needs.
        </p>

        <div class="space-y-2 flex-grow overflow-y-auto pr-1">
            <div>
                <label for="checkInDate" class="block text-gray-700 text-base font-medium mb-0.5">
                    Check-in Date
                </label>
                <input
                    type="date"
                    id="checkInDate"
                    class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition duration-200 text-base"
                >
            </div>

            <div>
                <label for="checkOutDate" class="block text-gray-700 text-base font-medium mb-0.5">
                    Check-out Date
                </label>
                <input
                    type="date"
                    id="checkOutDate"
                    class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition duration-200 text-base"
                >
            </div>

            <div>
                <label for="guests" class="block text-gray-700 text-base font-medium mb-0.5">
                    How many guests?
                </label>
                <input
                    type="number"
                    id="guests"
                    min="1"
                    value="1"
                    class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition duration-200 text-base"
                    placeholder="e.g., 2"
                >
            </div>

            <div>
                <label for="singleRooms" class="block text-gray-700 text-base font-medium mb-0.5">
                    How many single bed rooms?
                </label>
                <input
                    type="number"
                    id="singleRooms"
                    min="0"
                    value="0"
                    class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition duration-200 text-base"
                    placeholder="e.g., 1"
                >
            </div>

            <div>
                <label for="doubleRooms" class="block text-gray-700 text-base font-medium mb-0.5">
                    How many double bed rooms?
                </label>
                <input
                    type="number"
                    id="doubleRooms"
                    min="0"
                    value="0"
                    class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition duration-200 text-base"
                    placeholder="e.g., 1"
                >
            </div>

            <button
                id="checkAvailabilityBtn"
                class="w-full bg-blue-600 text-white p-2.5 rounded-lg text-lg font-semibold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-300 shadow-lg flex-shrink-0"
            >
                Check Availability
            </button>
        </div>

        <div id="messageBox" class="mt-4 p-3 bg-blue-100 text-blue-800 rounded-lg hidden text-sm flex-shrink-0">
            <!-- Availability message will be displayed here -->
        </div>
    </div>
   <script type="module">
       import { initializeApp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js";
       import {getDatabase, get, set, remove, update, child, ref} from "https://www.gstatic.com/firebasejs/12.0.0/firebase-database.js";
  const firebaseConfig = {
    apiKey: "AIzaSyABnh8zGho9eqZqephJPSoEf857vJJ4rOE",
    authDomain: "abebe-afba6.firebaseapp.com",
    projectId: "abebe-afba6",
    storageBucket: "abebe-afba6.firebasestorage.app",
    messagingSenderId: "309909295958",
    appId: "1:309909295958:web:b84f77b7fce93c0a8ffcf7"
  };
  const app = initializeApp(firebaseConfig);
  
const checkInDateInput = document.getElementById('checkInDate');
const checkOutDateInput = document.getElementById('checkOutDate');
const guestsInput = document.getElementById('guests');
const singleRoomsInput = document.getElementById('singleRooms');
const doubleRoomsInput = document.getElementById('doubleRooms');
const checkAvailabilityBtn = document.getElementById('checkAvailabilityBtn');
const messageBox = document.getElementById('messageBox');
const db=getDatabase()
const reserve=()=>{
  set(ref(db, "room/" + guestsInput.value),{
         guest:guestsInput.value,
        single:singleRoomsInput.value,
        double:doubleRoomsInput.value,
        in:checkInDateInput.value,
        out:checkOutDateInput.value,
    }).then(()=>{
        alert("Data registerd sucessfully")
    }).catch((error)=>{
            alert(error)
    })
}
const check=()=>{
    const dbref=ref(db)
   get(child(dbref,"room/"))
    .then((snapshot)=>{
        if(snapshot.exists()){
            alert(Object.keys(snapshot.val()))
            checkAvailabilityBtn.innerText="Book Now"
            checkAvailabilityBtn.setAttribute("id","Book")

        }
    })
    .catch((error)=>{
        alert(error)
    })
}
checkAvailabilityBtn.onclick=()=>{  
    check()
}
const book=document.getElementById("Book")
book.onclick=()=>{

}
</script>
</body>
</html>
